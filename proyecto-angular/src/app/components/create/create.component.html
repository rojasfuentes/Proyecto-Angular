

<div class="container">
    <h2>{{title}}</h2>
    
<div class="message success" *ngIf="status == 'success'">
    {{message}}, puedes <a [routerLink]="['/proyecto', project._id]">verlo aquí</a>
</div>

<div class="message failed" *ngIf="status=='failed'">
    Error al crear proyecto
</div>
    
    <form #projectForm="ngForm" (ngSubmit)="onSubmit(projectForm)">
        <p>
            <label for="name">Nombre</label>
            <input type="text" name="name" #name="ngModel"[(ngModel)]="project.name"
            required>
            <span class="form-error" *ngIf="name.touched&& !name.valid">
                El nombre es obligatorio ( ! )
                <i class="fa-solid fa-bell-exclamation"></i>
            </span>
        </p>
        
        <p>
            <label for="description">Descripción</label>
            <textarea type="text" name="description" #description="ngModel"[(ngModel)]="project.description"
            required></textarea>
            <span class="form-error" *ngIf="description.touched&& !description.valid">
                La descripción es obligatoria ( ! )
            </span>
        </p>

        <p>
            <label for="langs">Lenguajes</label>
            <input type="text" name="langs" #langs="ngModel"[(ngModel)]="project.langs" 
            required>
            <span class="form-error" *ngIf="langs.touched&& !langs.valid">
                Los lenguajes son obligatorios ( ! )
            </span>
        </p>

        <p>
            <label for="category">Categoria</label>
            <input type="text" name="category" #category="ngModel"[(ngModel)]="project.category"
            required>
            <span class="form-error" *ngIf="category.touched&& !category.valid">
                La categoria es obligatoria ( ! )
            </span>
        </p>

        <p>
            <label for="year">Año</label>
            <input type="number" name="year" #year="ngModel"[(ngModel)]="project.year"
            required>
            <span class="form-error" *ngIf="year.touched&& !year.valid">
                El año es obligatorio ( ! )
            </span>
        </p>

        <p>
            <label for="image">Imagen del proyecto</label>
            <span *ngIf="project.image">
                <img src="{{url+ 'get-image/'+project.image}}" width="300px">
            </span>
            <br>
            <input type="file" placeholder="Subir Imagen" (change)="fileChangeEvent($event)">
        </p>

        <input type="submit" value="Enviar" [disabled]="!projectForm.valid">   
    </form>
</div>
